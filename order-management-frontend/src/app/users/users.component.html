<div class="users-container">
  <div class="page-header">
    <h1>Benutzerverwaltung</h1>
    <button class="refresh-btn" (click)="loadUsers()" [disabled]="loading">
      {{ loading ? 'Laden...' : 'Aktualisieren' }}
    </button>
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
    <button class="close-btn" (click)="clearError()">×</button>
  </div>

  <!-- Add User Form -->
  <div class="add-user-section">
    <h2>Neuen Benutzer hinzufügen</h2>
    <form (submit)="addUser(); $event.preventDefault()" class="user-form">
      <div class="form-group">
        <label for="name">Name</label>
        <input 
          id="name"
          [(ngModel)]="newUser.name" 
          name="name" 
          placeholder="Name eingeben" 
          required 
          [disabled]="loading"
        />
      </div>
      
      <div class="form-group">
        <label for="email">E-Mail</label>
        <input 
          id="email"
          type="email"
          [(ngModel)]="newUser.email" 
          name="email" 
          placeholder="E-Mail eingeben" 
          required 
          [disabled]="loading"
        />
      </div>
      
      <div class="form-group">
        <label for="role">Rolle</label>
        <select 
          id="role"
          [(ngModel)]="newUser.role" 
          name="role" 
          required 
          [disabled]="loading"
        >
          <option value="">Rolle auswählen</option>
          <option value="admin">Admin</option>
          <option value="manager">Manager</option>
          <option value="employee">Mitarbeiter</option>
        </select>
      </div>
      
      <button type="submit" class="submit-btn" [disabled]="loading">
        {{ loading ? 'Wird hinzugefügt...' : 'Benutzer hinzufügen' }}
      </button>
    </form>
  </div>

  <!-- Users List -->
  <div class="users-list-section">
    <h2>Benutzer ({{ users.length }})</h2>
    
    <div *ngIf="loading && users.length === 0" class="loading">
      Benutzer werden geladen...
    </div>

    <div *ngIf="!loading && users.length === 0" class="no-users">
      Keine Benutzer vorhanden. Fügen Sie den ersten Benutzer hinzu!
    </div>

    <div *ngIf="users.length > 0" class="users-grid">
      <div *ngFor="let user of users" class="user-card">
        <div class="user-info">
          <div class="user-name">{{ user.name }}</div>
          <div class="user-email">{{ user.email }}</div>
          <div class="user-role" [class]="'role-' + user.role.toLowerCase()">
            {{ user.role }}
          </div>
        </div>
        <div class="user-id">#{{ user.id }}</div>
      </div>
    </div>
  </div>
</div>